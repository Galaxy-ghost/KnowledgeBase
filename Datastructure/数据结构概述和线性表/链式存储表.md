## 顺序存储的优缺点

1. 数据存储空间必须连续（条件比较苛刻）
2. 插入、删除操作的时间效率不高
3. 通过位置找到元素的效率很高

---


## 链式存储的特点和核心操作逻辑

### 链式存储的特点

|              | 顺序存储           | 链式存储                                                     |
| :----------- | :----------------- | :----------------------------------------------------------- |
| 存储结构特点 | 使用连续物理内存   | 物理上不连续，但是增加元素逻辑的关系（即元素里包含数据和关系） |
| 存储维护     | 使用整个表的首地址 | 使用表内容的首节点，首节点逐个寻找其他节点                   |
| 存储密度     | 高                 | 不高                                                         |


---


### 核心操作逻辑

1. 插入操作
   在第二个位置上做插入操作的时候，如果索引指针指向了第二个节点，无法进行后续节点。在单链表中，一旦索引指针往前走，之前的元素就无法找到

```c++
// 先处理新节点，再处理老节点
node->next = p->next;
p->next = node;
```

1. 删除操作
   删除A元素，必须站在A元素的前一个元素上，才能删除A元素

```c++
// 进行备份的写法
tmp = p->next;  // tmp是要删除的节点
p->next = tmp->next
free(tmp);
// 不进行备份的写法
p->next = p->next->next;  // 不推荐这种写法，这样会导致删除的那个节点没有被free，占用堆空间
```

遍历

```c++
// 顺序存储的遍历
for(int i = 0;i < len;i++){
  data[i];
}
// 链式存储的遍历
while(p){
  p = p->next;
}
```

---


## 单链表的设计

**结构的操作：**申请一个结构的头存储数据的首地址以及这个结构的其他参数，结构头里要包含一个区域指向真实的数据


---


单链表的实现有两种方式，一种是带头节点，另一种是不带头节点

![图片](https://shinax.oss-cn-hangzhou.aliyuncs.com/202301102253028.png)


这里不推荐使用不带头节点的方式，带头节点有更多优势：

**第一个位置的插入、删除更加方便，带来操作上的统一**

```c++
// 对于带头结点的插入到第一个位置的代码
x->next = head->next;
head->next = x;
// 插入其他节点
x->next = p->next;
p->next = x;
===================================
// 对于不带头结点的插入到第一个位置的代码
x->next = head;
head = x;
// 插入其他节点
x->next = p->next;
p->next = x;
```

1. **统一空表和非空表的处理**
   若使用头结点，无论表是否为空，头指针都指向头结点，也就是*LNode类型，对于空表和非空表的操作是一致的。

若不使用头结点，当表非空时，头指针指向第1个结点的地址，即*LNode类型，但是对于空表，头指针指向的是NULL，此时空表和非空表的操作是不一致的。


---


### 带头节点的实现

![图片](https://shinax.oss-cn-hangzhou.aliyuncs.com/202301111606459.png)